:root{
  --bg1: #fff8f9;
  --bg2: #fff0f2;
  --accent: #d94248;
  --muted: #444;
  --card: #ffffff;
  --gift-shadow: rgba(0,0,0,0.22);
}

/* Reset */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: radial-gradient(900px 400px at 10% 12%, #ffecec 0%, transparent 6%), linear-gradient(180deg,var(--bg1),var(--bg2));
  color:#222;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Stage */
.stage{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:1rem;
  padding:2rem;
}

.title{
  margin:0;
  font-size:clamp(1.1rem,2.2vw,1.6rem);
  color:var(--muted);
  text-align:center;
}

/* Canvas wrapper: responsive */
.canvas-wrap{
  position:relative;
  width:clamp(360px,56vw,900px);
  max-width:96vw;
  aspect-ratio: 600 / 720;
  background: transparent;
  display:block;
  border-radius:18px;
  padding:0;
  user-select:none;
  -webkit-user-select:none;
}

/* Canvas fills wrapper */
#santaCanvas{
  width:100%;
  height:100%;
  display:block;
  border-radius:18px;
}

/* Gift buttons */
.gift{
  position:absolute;
  width:88px;
  height:88px;
  border-radius:14px;
  border:none;
  cursor:pointer;
  background: linear-gradient(180deg,#ffd86d 0%, #ffc63a 100%);
  box-shadow: 0 18px 34px var(--gift-shadow), inset 0 -6px 10px rgba(0,0,0,0.06);
  display:flex;
  align-items:center;
  justify-content:center;
  transition: transform .18s cubic-bezier(.2,.9,.2,1), box-shadow .18s;
  z-index:12;
  -webkit-tap-highlight-color: transparent;
}
.gift:active{ transform:translateY(2px) scale(.98); }
.gift-label{ font-size:1.6rem; pointer-events:none; }

/* Modal */
.modal{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(0,0,0,0.36);
  opacity:0;
  pointer-events:none;
  transition:opacity .18s ease;
  z-index:60;
}
.modal[aria-hidden="false"]{ opacity:1; pointer-events:auto; }
.modal-content{
  width:clamp(300px, 84vw, 520px);
  background:var(--card);
  border-radius:14px;
  padding:1.25rem;
  box-shadow: 0 24px 70px rgba(0,0,0,0.3);
  text-align:center;
  position:relative;
}
.modal-close{
  position:absolute;
  right:12px;
  top:10px;
  border:none;
  background:none;
  font-size:1.25rem;
  cursor:pointer;
}
.modal h2{ margin:0 0 .4rem 0; color:var(--accent) }
.modal p{ margin:0 0 .75rem 0; color:var(--muted) }
.coupon-area{
  margin:0.5rem 0 0;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:1rem;
  flex-wrap:wrap;
}
.coupon-card{
  background: linear-gradient(180deg,#fffefe,#fffbf6);
  border-radius:10px;
  padding:0.6rem;
  box-shadow: 0 8px 20px rgba(0,0,0,0.12);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:0.4rem;
}
.coupon-code{
  font-weight:700;
  color:#c42b31;
  letter-spacing:1px;
  font-size:1rem;
}
.modal-actions{ margin-top:0.75rem; }
.btn{
  background:linear-gradient(180deg,var(--accent),#b02a33);
  color:white;
  border:none;
  padding:.6rem 1rem;
  border-radius:10px;
  cursor:pointer;
  box-shadow: 0 8px 22px rgba(200,40,50,0.22);
}

/* Confetti */
#confetti-container{
  position:fixed;
  inset:0;
  pointer-events:none;
  overflow:hidden;
  z-index:50;
}
.confetti{
  position:absolute;
  width:10px;
  height:14px;
  opacity:0.95;
  transform-origin:center;
  border-radius:2px;
  will-change: transform, opacity;
  animation: fall 1300ms linear forwards, spin 900ms linear infinite;
}
@keyframes fall{
  0%{ transform: translateY(-12vh) rotate(0deg); opacity:1; }
  100%{ transform: translateY(110vh) rotate(720deg); opacity:0.95; }
}
@keyframes spin{
  0%{ transform: rotate(0deg); }
  100%{ transform: rotate(360deg); }
}

/* Responsive adjustments */
@media (max-width:520px){
  .gift{ width:64px; height:64px; }
}
